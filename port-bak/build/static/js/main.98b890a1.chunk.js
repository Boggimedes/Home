(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a(221)},119:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(10),s=a.n(l),c=(a(119),a(15)),o=a(16),u=a(19),i=a(17),m=a(20),d=a(222),f=a(225),h=a(224),p=a(215),v=a(223),E=a(42),k=a.n(E),b=a(12),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleKeyPress=function(e){"Enter"===e.key&&a.props.handleUsername(a.state.username)},a.handleChange=function(e){a.setState({username:e.target.value})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.state={username:""}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-sm-8 col-sm-offset-2"},r.a.createElement("h1",null,"Enter your username"),r.a.createElement("div",{className:"col-md-6 col-md-offset-2"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control",placeholder:"Username",type:"text",value:this.state.username,onKeyPress:function(t){return e.handleKeyPress(t)},onChange:function(t){return e.handleChange(t)}}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement(b.a,{onClick:function(){return e.props.handleUsername(e.state.username)},bsStyle:"primary"},"Go")))))}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={fullname:""},a.handleKeyPress=function(e){"Enter"===e.key&&a.props.handleFullname(a.state.fullname)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.checkUser(this.props.match.params.username),""===this.props.match.params.username&&this.props.history.push("/coffee-tracker")}},{key:"componentDidMount",value:function(){this.setState({fullname:this.props.user.fullname})}},{key:"handleChange",value:function(e){this.setState({fullname:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Fill Out Your Name"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",className:"form-control",value:this.props.user.username,disabled:!0})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Full Name:"),r.a.createElement("input",{type:"text",name:"fullname",className:"form-control col-md-6",value:this.state.fullname?this.state.fullname:this.props.user.fullname,onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKeyPress(t)}})))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement(b.a,{onClick:function(){return e.props.handleFullname(e.state.fullname)},bsStyle:"primary"},"Save")))}}]),t}(n.Component),j=a(49),N=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.obj.name),r.a.createElement("td",null,this.props.obj.created_at),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.props.handleDelete(e.props.obj.id)},className:"btn btn-primary"},"Delete")))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={drinkName:null,userId:null},a.handleKeyPress=function(e){"Enter"===e.key&&(a.props.addDrink(a.state.drinkName),a.setState({drinkName:""}))},a.handleSubmit=function(){a.props.addDrink(a.state.drinkName),a.setState({drinkName:""})},a.handleChange=function(e){a.setState({drinkName:e.target.value})},a.tabRow=function(){if(a.props.user.drinks instanceof Array)return a.props.user.drinks.map(function(e,t){return r.a.createElement(N,{obj:e,key:t,handleDelete:function(){return a.props.handleDelete(e.id)}})},Object(j.a)(Object(j.a)(a)))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.checkUser(this.props.match.params.username),""===this.props.match.params.username&&this.props.history.push("/coffee-tracker")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,this.props.user.fullname?this.props.user.fullname+"'s":""," Drinks"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("input",{className:"form-control",type:"text",value:this.state.drinkName,onKeyPress:function(t){return e.handleKeyPress(t)},onChange:function(t){return e.handleChange(t)},placeholder:"Enter Drink Name (eg Mocha, Coffee, Tea, Chai, etc)"})),r.a.createElement("div",{className:"col-md-2"},r.a.createElement(b.a,{onClick:this.handleSubmit,bsStyle:"primary"},"Add Drink"))),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Item Name"),r.a.createElement("td",null,"Timestamp"))),r.a.createElement("tbody",null,this.tabRow())))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={user:{username:"",fullname:"",id:null,drinks:[]}},a.checkUser=function(e){null==a.state.user.id&&a.handleUsername(e)},a.addDrink=function(e){var t={name:e,userId:a.state.user.id};k.a.post("/api/drink",t).then(function(e){var t=a.state.user.drinks;t.push(e.data);var n=a.state.user;n.drinks=t,a.setState({user:n})})},a.handleDelete=function(e){var t="/api/drink/".concat(e),n=a.state.user.drinks,r=a.state.user;k.a.delete(t),n=n.filter(function(t){return t.id!==e}),r.drinks=n,a.setState({user:r})},a.handleFullname=function(e){var t={username:a.state.user.username,fullname:e},n="/api/user/"+a.state.user.id;k.a.put(n,t).then(function(t){var n=a.state.user;n.fullname=e,a.setState({user:n})}).catch(function(e){console.log(e)})},a.handleUsername=function(e){var t={username:e},n=a.props.location.pathname;k.a.post("/api/user",t).then(function(e){a.setState({user:{username:e.data.username,id:e.data.id,fullname:e.data.fullname,drinks:[]}}),k.a.get("/api/drink?userId=".concat(e.data.id)).then(function(e){var t=a.state.user;t.drinks=e.data,a.setState({user:t}),"/coffee-tracker"===n.replace(/\/$/,"")&&("undefined"===typeof t.fullname||""===t.fullname?a.props.history.push("/coffee-tracker/".concat(a.state.user.username,"/profile")):a.props.history.push("/coffee-tracker/".concat(a.state.user.username,"/coffees")))}).catch(function(e){console.log(e)})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex-center position-ref full-height"},r.a.createElement(b.d,{inverse:!0,collapseOnSelect:!0},r.a.createElement(b.d.Header,null,r.a.createElement(b.d.Brand,null,r.a.createElement(f.a,{className:"navbar-brand",to:"/coffee-tracker"},"Coffee Counter")),r.a.createElement(b.d.Toggle,null)),r.a.createElement(b.d.Collapse,null,r.a.createElement(b.c,null,r.a.createElement("li",null,r.a.createElement(f.a,{className:this.state.user.username?"":"hidden",eventKey:1,to:"/coffee-tracker/".concat(this.state.user.username,"/profile/")},"Profile")),r.a.createElement("li",null,r.a.createElement(f.a,{className:this.state.user.username?"":"hidden",eventKey:2,to:"/coffee-tracker/".concat(this.state.user.username,"/coffees/")},"Coffees"))))),r.a.createElement(b.b,null,r.a.createElement("div",{className:"container"},r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/coffee-tracker",render:function(t){return r.a.createElement(y,{handleUsername:e.handleUsername})}}),r.a.createElement(p.a,{path:"/coffee-tracker/:username/profile",render:function(t){return r.a.createElement(g,Object.assign({handleFullname:e.handleFullname,user:e.state.user,checkUser:e.checkUser},t))}}),r.a.createElement(p.a,{path:"/coffee-tracker/:username/coffees",render:function(t){return r.a.createElement(O,Object.assign({user:e.state.user,checkUser:e.checkUser,handleDelete:e.handleDelete,addDrink:e.addDrink},t))}})))))}}]),t}(n.Component),C=Object(v.a)(w),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(C,null))}}]),t}(n.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(217),a(219);s.a.render(r.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/portfolio/daniel",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/portfolio/daniel","/service-worker.js");D?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):U(e)})}}()}},[[114,2,1]]]);
//# sourceMappingURL=main.98b890a1.chunk.js.map